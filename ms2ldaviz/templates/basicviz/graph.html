{% extends 'base.html' %}
{% load static %}

{% block head_block %}
    <link rel="stylesheet" type="text/css" href="{% static "css/basicviz.css" %}">
{% endblock %}

{% block body_block %}
    <div class="ui-widget" style="padding-top: 10px; padding-bottom: 10px">
        <input id="searchText">
        <button id="searchBtn" type="button">Search</button>&nbsp;
        <button id="resetBtn" type="button">Reset</button>
        <div id="status">
            Loading, please wait ...
        </div>
    </div>
    <div id="spectra"></div>
    <div id="network"></div>
    <div id="graphs"></div>
{% endblock %}

{% block js_block %}

    <script type='text/javascript' src="{% static "js/d3.v3.min.js" %}"></script>
    <script type='text/javascript' src="{% static "js/basicviz-network.js" %}"> </script>
    <script type='text/javascript' src="{% static "js/basicviz-spectra.js" %}"> </script>
    <script type='text/javascript' src="{% static "js/seedrandom.min.js" %}"> </script>
    <script type='text/javascript' src="{% static "js/word-graph.js" %}"> </script>

    <script type='text/javascript'>
        var annotated = 0
        // var experiment_id = '{{ experiment.id}}'
        // var min_degree = '{{vo.min_degree}}'
        // var edge_thresh = '{{vo.edge_thresh}}'
        var viz_options = '{{viz_options.id}}'
        plot_graph(viz_options,'{{viz_options.random_seed}}');

        var current_pos = 0;
        var motif_name = '{{initial_motif.name}}'
        var motif_id = {{initial_motif.id}}
        load_parents(motif_id, motif_name,viz_options); // Hopefully there is such a motif!

        var url = '/basicviz/get_word_graph/' + motif_id + '/' + viz_options + '/';
        plot_word_graph(url,motif_id, motif_name);

        var url = '/basicviz/get_intensity/' + motif_id + '/' + viz_options + '/';
        plot_word_graph(url,motif_id, motif_name);

    </script>

{% endblock %}