{% extends 'base.html' %}

<html>

{% block title %}Select an experiment{% endblock %}

{% block body_block %}
<h3>Select an experiment to view</h3>
Logged in as {{user}}, <a href="/basicviz/logout">Logout</a>
<table class="table">
<tr><th>Name</th><th>Description</th><th>Actions</th></tr>

{% for experiment in experiments|dictsort:"name" %}
	<tr><td>{{experiment.name}}</td>
	<td>{{experiment.description}}</td>
	<td>
    <a href="/basicviz/show_docs/{{experiment.id}}" class="btn btn-block btn-lg btn-default"><span class="glyphicon glyphicon-export"></span>Show Parents</a>
    <a href="/basicviz/view_mass2motifs/{{experiment.id}}" class="btn btn-block btn-lg btn-default"><span class="glyphicon glyphicon-barcode"></span> Show Mass2Motifs</a>
    <a href="/basicviz/start_viz/{{experiment.id}}" class="btn btn-block btn-lg btn-default"><span class="glyphicon glyphicon-stats"></span> Start Visualisation</a>
	{% if extra_user %}
        <a href="/basicviz/validation/{{experiment.id}}" class="btn btn-block btn-lg btn-default"><span class="glyphicon glyphicon-thumbs-up"></span> Validate for Justin</a>
	    <!-- a href="/basicviz/document_pca/{{experiment.id}}" class="btn btn-block btn-lg btn-success">Document PCA</a -->
	    <a href="/basicviz/topic_pca/{{experiment.id}}" class="btn btn-block btn-lg btn-default"><span class="glyphicon glyphicon-eye-open"></span> Topic PCA</a>
	    <a href="/basicviz/topic_table/{{experiment.id}}" class="btn btn-block btn-lg btn-default" role="button"><span class="glyphicon glyphicon-list-alt"></span> Topic Table</a>
	    <a href="/basicviz/extract_docs/{{experiment.id}}" class="btn btn-block btn-lg btn-default"><span class="glyphicon glyphicon-folder-close"></span> Extract Documents</a>
	    <a href="/basicviz/compute_topic_scores/{{experiment.id}}" class="btn btn-block btn-lg btn-danger" role="button"><span class="glyphicon glyphicon-sort-by-order"></span> Compute Topic Scores</a>
	    <a href="/basicviz/rate_by_conserved_motif_rating/{{experiment.id}}" class="btn btn-block btn-lg btn-danger" role="button"><span class="glyphicon glyphicon-indent-right"></span> Rate by Conserved Mass2Motifs</a>
	    <a href="/basicviz/view_experiment_options/{{experiment.id}}" class="btn btn-block btn-lg btn-danger" role="button"><span class="glyphicon glyphicon-indent-right"></span> View experiment options</a>
    {% endif %}
    </td></tr>
{% endfor %}
</table>

{% if extra_user %}
	<hr />
	<h3>MultiFileExperiments</h3>
	<ul>
	{% for mf in mfe %}
		<li>{{mf.name}}, {{mf.description}}, {{mf.status}}</li>
		<ul>
			{% for exp in mf.multilink_set.all %}
				<li>{{exp.experiment}}&nbsp;<a href="/basicviz/show_docs/{{exp.experiment.id}}" class="btn btn-xs btn-success" role="button">Show parents</a>&nbsp;<a href="/basicviz/view_mass2motifs/{{exp.experiment.id}}" class="btn btn-xs btn-success" role="button">Show Mass2Motifs</a>&nbsp;<a href="/basicviz/start_viz/{{exp.experiment.id}}" class="btn btn-xs btn-primary" role="button">Start vis.</a><a href="/basicviz/topic_table/{{exp.experiment.id}}" class="btn btn-xs btn-primary" role="button">Topic table</a>&nbsp;<a href="/basicviz/rate_by_conserved_motif_rating/{{exp.experiment.id}}" class="btn btn-xs btn-primary" role="button">Rate by conserved motifs</a></li>
			{% endfor %}
		</ul>
		<A href="/basicviz/multi_alphas/{{mf.id}}" class="btn btn-xs btn-warning" role="button">Explore alphas</A>
		<A href="/basicviz/alpha_correlation/{{mf.id}}" class="btn btn-xs btn-warning" role="button">Alpha correlation</A>
		<A href="/basicviz/wipe_cache/{{mf.id}}" class="btn btn-xs btn-warning" role="button">Wipe Cache</A>(force recomputation of alpha tables when, e.g. annotations have been added)
		<A href="/basicviz/view_mf_experiment_options/{{mf.id}}" class="btn btn-xs btn-warning" role="button">View options</A>
	{% endfor %}
	</ul>
{% endif %}

</ul>
{% endblock %}
