{% extends 'base.html' %}

<html>

{% block title %}Select an experiment{% endblock %}

{% block body_block %}
<h3>Select an experiment to view</h3>
Logged in as {{user}}, <a href="/basicviz/logout">Logout</a>
<table class="table">
<tr><th>Name</th><th>Description</th><th>Actions</th></tr>

{% for experiment in experiments|dictsort:"name" %}
	<tr><td>{{experiment.name}}</td>
	<td>{{experiment.description}}</td>
	<td>
	<a href="/basicviz/show_docs/{{experiment.id}}" class="btn btn-xs btn-success" role="button">Show parents</a>
	<br/><br/>
    <a href="/basicviz/view_mass2motifs/{{experiment.id}}" class="btn btn-xs btn-success" role="button">Show Mass2Motifs</a>
	<br/><br/>
	<a href="/basicviz/start_viz/{{experiment.id}}" class="btn btn-xs btn-primary" role="button">Start vis.</a>
	<br/><br/>
	{% if extra_user %}
		<p>Extra features for special users:</p>
	    <a href="/basicviz/validation/{{experiment.id}}" class="btn btn-xs btn-warning" role="button">Validate (for Justin)</a>
	    <a href="/basicviz/document_pca/{{experiment.id}}" class = "btn btn-xs btn-success" role="button">Document PCA</a>
	    <a href="/basicviz/topic_pca/{{experiment.id}}" class = "btn btn-xs btn-success" role="button">Topic PCA</a>
	    <a href="/basicviz/extract_docs/{{experiment.id}}" class="btn btn-xs btn-primary" role="button">Extract documents</a>
	    <a href="/basicviz/compute_topic_scores/{{experiment.id}}" class="btn btn-xs btn-warning" role="button">Compute topic scores</a>
	    <a href="/basicviz/topic_table/{{experiment.id}}" class="btn btn-xs btn-warning" role="button">Topic table</a>
    {% endif %}
    </td></tr>
{% endfor %}
</table>

{% if extra_user %}
	<hr />
	<h3>MultiFileExperiments</h3>
	<ul>
	{% for mf in mfe %}
		<li>{{mf.name}}, {{mf.description}}, {{mf.status}}</li>
		<ul>
			{% for exp in mf.multilink_set.all %}
				<li>{{exp.experiment}}&nbsp;<a href="/basicviz/show_docs/{{exp.experiment.id}}" class="btn btn-xs btn-success" role="button">Show parents</a>&nbsp;<a href="/basicviz/view_mass2motifs/{{exp.experiment.id}}" class="btn btn-xs btn-success" role="button">Show Mass2Motifs</a>&nbsp;<a href="/basicviz/start_viz/{{exp.experiment.id}}" class="btn btn-xs btn-primary" role="button">Start vis.</a></li>
			{% endfor %}
		</ul>
		<A href="/basicviz/multi_alphas/{{mf.id}}" class="btn btn-xs btn-warning" role="button">Explore alphas</A>
	{% endfor %}
	</ul>
{% endif %}

</ul>
{% endblock %}
